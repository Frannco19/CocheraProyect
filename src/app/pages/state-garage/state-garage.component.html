<main class="flex-column-center">
    <table>
        <thead>
        <td>NÂº</td>
        <td>Disponibilidad</td>
        <td>Ingreso</td>
        <td>Acciones</td>
    </thead>
    <tbody>
        @for (garage of dataGarageServices.Garages; track $index) {
            <tr>
                <td> {{ garage.id }} </td>
                <td>
                    @if (!garage.parkingLot?.horaEgreso && garage.parkingLot?.horaIngreso) {
                        <button (click)="closeParkingLot(garage)">
                            {{ garage.parkingLot?.patente }}
                        </button>
                    } @else if (garage.parkingLot?.horaEgreso) {
                        <button (click)="openParkingLot(garage.id)">
                            Desocupado
                        </button>
                    } @else {
                        <button (click)="openParkingLot(garage.id)">
                            Disponible
                        </button>
                    }
                </td>
                <td>{{ garage.descripcion }}</td>
                <td class="acciones-container"> 
                    @if(!garage.deshabilitado){
                        <button (click)="disableGarage($index)"><img src="img/icons/prohibido.png" alt="Deshabilitar cochera"></button>
                    } @else {
                        <button (click)="ableGarage($index)"><img src="img/icons/ok.png" alt="Habilitar cochera"></button>

                    }
                    @if(esAdmin){   
                        <button (click)="questionDeleteGarage(garage.id)"><img src="img/icons/contenedor-de-basura.png" alt="Eliminar cochera"></button>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

@if(esAdmin){
    <button (click)="AddGarage()" class="boton-resaltado" id="agregar-cochera">+</button>
}
</main>